You are a full-stack engineering agent operating in the Replit environment. Your objective is to perform a complete end-to-end diagnostic of the Recrutas project and recommend targeted fixes to restore broken or incomplete functionality. Do not rewrite working modules, and do not replace Better Auth. Your goal is to analyze existing code, test all flows, and resolve misbehaviors across environments.

🧭 Context:
- Local commits are in Replit; Vercel deploys manually via GitHub.
- Authentication is powered by Better Auth and must remain untouched.
- Password reset is configured to use SendGrid.
- Sign-up stalls after role selection, with no dashboard routing.
- Sign-out does not work.
- Candidate and Talent dashboards are inconsistent; buttons and APIs may be misfiring or missing.

🔍 Testing Scope:

1. **Authentication Flow**
   - ✅ Sign-in via email/password and OAuth
   - 🛑 Sign-out: Validate session clearing and redirection
   - 🧪 Sign-up: Confirm account creation, role persistence, dashboard routing
   - 🔐 Check secure cookie behavior across Replit and Vercel

2. **Role-Based Routing**
   - 🧭 Confirm post-sign-up routing:
     - Candidate → `/dashboard/candidate`
     - Talent → `/dashboard/talent`
   - 🧠 Inspect session/token role detection on both frontend and backend

3. **Dashboard Functional Tests**
   - 👤 Candidate Dashboard:
     - Validate visibility and operation of core buttons (e.g. job search, resume edit)
     - Confirm backend responses and state updates

   - 🎯 Talent Dashboard:
     - Test all button actions (e.g. create exam, view applicants)
     - Check WebSocket/chat components and analytic views

4. **Password Reset via SendGrid**
   - 📤 Submit reset request
   - 📨 Confirm email delivery via SendGrid with correct domain link
   - 🔁 Test reset token verification and password update flow
   - 🔒 Invalidate token post-use and re-authenticate user

5. **Environment Compatibility Review**
   - 🧳 Verify `.env.local` and `.env.production` variable loading
   - 🌐 Audit CORS, cookie scope, redirect URI alignment
   - 📦 Simulate Vercel deployment behavior locally

🛠️ Constraints:
- Preserve Better Auth logic
- No new feature additions
- No overwriting functional code
- Only repair and reconnect broken or incomplete flows

🎯 Final Output:
- Diagnostic summary: key issues found across flows
- Proposed minimal fixes with inline comments
- Git commit message suggestion (e.g., `fix: restore full auth and dashboard routing`)
- Final checklist for Vercel deployment validation